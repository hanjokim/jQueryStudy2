<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mission</title>
    <style>
        .select {
            background-color: #cccccc;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        var $menu = null;
        var $menuName = null;
        var $selectedItem = null;
        $(document).ready(function () {
            init();
            initEvent();
        });

        function init() {
            $menu = $('ul.menu');
            $menuName = $('#menuName');
        }

        function initEvent() {
            $('#add').click(function () {
                if ($menuName.val()) {
                    addMenu();
                }
            })

            $menu.on("click", "li", function () {
                setSelectItem($(this));
            })

            $('#update').click(function () {
                if ($menuName.val()) {
                    updateMenuItem();
                }
            })

            $('#remove').click(function () {
                removeMenuItem();
            })

            $('#up').click(function () {
                moveUpMenuItem();
            })

            $('#down').click(function () {
                moveDownMenuItem();
            })
        }

        function addMenu() {
            var menuName = $menuName.val();

            var newMenuItem = "<li>" + menuName + "</li>";

            if ($selectedItem) {
                $selectedItem.after(newMenuItem);
            } else {
                $menu.append(newMenuItem);
            }
        }

        function setSelectItem($item) {
            if($selectedItem) {
                $selectedItem.removeClass("select");
            }
            $selectedItem = $item;
            $selectedItem.addClass("select");
        }

        function updateMenuItem() {
            if ($selectedItem) {
                var menuName = $menuName.val();
                $selectedItem.html(menuName);
            } else {
                alert("선택 메뉴가 존재하지 않습니다.");
            }
        }

        function removeMenuItem() {
            if ($selectedItem) {
                $selectedItem.remove();
                $selectedItem = null;
            } else {
                alert("선택 메뉴가 존재하지 않습니다.");
            }
        }

        function moveUpMenuItem() {
            if ($selectedItem) {
                var $prevItem = $selectedItem.prev();
                if ($prevItem) {
                    $selectedItem.insertBefore($prevItem);
                }
            } else {
                alert("선택 메뉴가 존재하지 않습니다.");
            }
        }

        function moveDownMenuItem() {
            if ($selectedItem) {
                var $nextItem = $selectedItem.next();
                if ($nextItem) {
                    $selectedItem.insertAfter($nextItem);
                }
            } else {
                alert("선택 메뉴가 존재하지 않습니다.");
            }
        }
    </script>
</head>
<body>
    <input type="text" id="menuName">
    <button id="add">Add</button>
    <button id="update">Update</button>
    <button id="remove">Remove</button>
    <button id="up">UP</button>
    <button id="down">DOWN</button>

    <ul class="menu">

    </ul>
</body>
</html>